{
  "hash": "445620ea6e2c4f8663b3d61087b448bb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Blog Post 3\"\nauthor: \"Team 6\"\ndate: \"2025-03-24\"\ndate-modified: \"2025-03-24\"\ndraft: FALSE\n---\n\n\nTo clean the NYPD arrest dataset, we focused on selecting only the variables relevant to our analysis - race category, gender, age group, borough of arrest, offense category, and police description of the crime. We removed fully empty columns and unnecessary categories such as arrest date, arrest key, and jurisdiction code. We standardized column names and cleaned string variables by trimming whitespace and applying consistent formatting (e.g., title-casing offense descriptions). All categorical variables, such as age group, race, and borough were converted to factors for easier future analysis. We also eliminated any rows with missing values for easier future analysis as well. Here is the code for our cleaned dataset which can be found under the folder dataset:\n\nlibrary(tidyverse)\nlibrary(janitor)\nlibrary(lubridate)\nraw_data <- read_csv(\"dataset/NYPD_Arrest_Data__Year_to_Date_.csv\")\ncleaned_data <- raw_data %>%\n  clean_names() %>%                                         \n  select(where(~ !all(is.na(.)))) %>%                      \n  select(                                                   \n    perp_race,           \n    perp_sex,            \n    age_group,           \n    arrest_boro,         \n    ofns_desc,           \n    pd_desc              \n  ) %>%\n  mutate(\n    perp_race = factor(str_trim(perp_race)),                \n    perp_sex = factor(str_trim(perp_sex)),\n    age_group = factor(str_trim(age_group)),\n    arrest_boro = factor(str_trim(arrest_boro)),\n    ofns_desc = str_to_title(str_trim(ofns_desc)),          \n    pd_desc = str_to_title(str_trim(pd_desc))\n  ) %>%\n  drop_na()                                                 \nwrite_rds(cleaned_data, \"dataset/cleaned_dataset.rds\")\n\nData Analysis:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(lubridate)\ncleaned_data <- read_rds(\"dataset/cleaned_dataset.rds\")\nrace_offense_table <- cleaned_data %>%\n  count(perp_race, ofns_desc, sort = TRUE) %>%\n  group_by(perp_race) %>%\n  slice_max(n, n = 5) %>%\n  arrange(perp_race, desc(n))\n\nprint(race_offense_table)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 35 × 3\n# Groups:   perp_race [7]\n   perp_race                      ofns_desc                        n\n   <fct>                          <chr>                        <int>\n 1 AMERICAN INDIAN/ALASKAN NATIVE Assault 3 & Related Offenses   199\n 2 AMERICAN INDIAN/ALASKAN NATIVE Felony Assault                  78\n 3 AMERICAN INDIAN/ALASKAN NATIVE Petit Larceny                   78\n 4 AMERICAN INDIAN/ALASKAN NATIVE Vehicle And Traffic Laws        58\n 5 AMERICAN INDIAN/ALASKAN NATIVE Miscellaneous Penal Law         50\n 6 ASIAN / PACIFIC ISLANDER       Assault 3 & Related Offenses  2722\n 7 ASIAN / PACIFIC ISLANDER       Felony Assault                1617\n 8 ASIAN / PACIFIC ISLANDER       Petit Larceny                 1258\n 9 ASIAN / PACIFIC ISLANDER       Miscellaneous Penal Law       1239\n10 ASIAN / PACIFIC ISLANDER       Dangerous Drugs                902\n# ℹ 25 more rows\n```\n\n\n:::\n:::\n\n\n\nTo better understand the relationship between race and type of offense, we created a table displaying the top five offenses by race. This summarized table allows us to identify whether certain offenses are disproportionately represented in certain racial groups and enables us to discover  any unusual or unexpected patterns in the dataset.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncleaned_data %>%\n  count(perp_sex, ofns_desc, sort = TRUE) %>%\n  group_by(perp_sex) %>%\n  slice_max(n, n = 3) %>%\n  ungroup() %>%\n  ggplot(aes(x = reorder(ofns_desc, n), y = n)) +\n  geom_col() +\n  coord_flip() +\n  facet_wrap(~ perp_sex, scales = \"free_y\") +\n  labs(\n    title = \"Top 3 Offense Categories according to Gender\",\n    x = \"Offense Category\",\n    y = \"Number of Arrests\"\n  )\n```\n\n::: {.cell-output-display}\n![](blog-post-3_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nThe bar charts display the 3 most common offense categories for males and females in the dataset. While both genders share similar top offenses such as, assault-related charges and petit larceny, males are arrested at a higher frequency for each of the 3 offense categories. This visualization allows for an easier comparison of actual counts, pointing to the disparities in number of offenses respective to gender.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncleaned_data %>%\n  count(perp_race, sort = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 2\n  perp_race                           n\n  <fct>                           <int>\n1 BLACK                          122049\n2 WHITE HISPANIC                  69131\n3 BLACK HISPANIC                  26549\n4 WHITE                           26161\n5 ASIAN / PACIFIC ISLANDER        14838\n6 UNKNOWN                           956\n7 AMERICAN INDIAN/ALASKAN NATIVE    819\n```\n\n\n:::\n:::\n\n\n\nThis table looks at the distribution of arrests by race categories. We found that a disproportionate number of arrests (122049) were recorded for individuals who are 'Black', which is way higher than other races. In comparison, categories including American Indian/Alaskan Native and Unknown had fewer than 1,000 arrests each. These patterns could be showing real-world differences, but also allows us to raise further questions when analyzing our dataset.\n",
    "supporting": [
      "blog-post-3_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}